КОНФИГУРАЦИЯ
------------

* PHP 7.4
* MySQL
* nginx

УСТАНОВКА
------------

###### - Загрузите код репозитория
~~~
git clone git@github.com:garipovAlbert/bcs-test.git
~~~

###### - Загрузите файлы сторонних библиотек с помощью Composer
~~~
composer install
~~~ 

###### - Выполните команду init (https://github.com/yiisoft/yii2-app-advanced/blob/master/init)
~~~
php init
~~~ 

###### - Создайте базу данных MySQL и настройте подключение к ней в файле /common/config/main-local.php 

###### - Выполните миграцию
~~~
php yii migrate
~~~

###### - Сгенерируйте тестовых пользователей
~~~
php yii generate/users
~~~

###### - Настройте виртуальный хост веб-сервера для папки /api/web
Пример конфига: https://github.com/yiisoft/yii2-app-advanced/blob/master/vagrant/nginx/app.conf (только для php 7.4)


ОПИСАНИЕ
-------------
Данное техническое задание реализовано на базе Yii 2 Advanced Project Template (https://github.com/yiisoft/yii2-app-advanced) с минимальными изменениями. API вынесено в отдельное приложение с соответсвующим названием (backend и frontend не тронуты).

REST предполагает реализацию методов для манипуляции конкретными объектами - ресурсами или коллекциями ресурсов (которые по сути тоже являются ресурсами). В данном коде ресурсы инкапсулированы в специальных классах, например UserResource, которые наследуют yii\base\Model.

Бизнес-логика находится в сервисном слое отдельно от контроллеров. Сервисы конфигурируются через Service Locator приложения или модуля и могут при необходимости заменены на mock-объекты в конфиге для unit-тестов. Сервисы не зависят от контролеров и манипулируют исключительно объектами ресурсов и моделями Active Record.

Авторизация выполнена в стиле REST: токен доступа Access Token для Bearer аутентификации существует в виде ресурса с методами создания, отображения, удаления.

Для генерации тестовых пользователей была создана консольная команда (вместо миграции), т.к. для этого используется Active Record модель, которая в последствии может быть отрефакторена.
